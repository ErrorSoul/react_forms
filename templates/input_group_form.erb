import React from "react";
import useForm from "./useForm";
import {
  InputGroupAddon,
  InputGroupText,
  InputGroup
}
import { InputCell } from "./FormGroup"


const Form = () => {
  const submit = () => {
    console.log("success");
  };

  const callback = () => {
    console.log("success");
  };

  const { handleChange, handleSubmit, values, errors, validations, formValid } =
    useForm(<%= names_string %>, submit, callback);

    return (
      <form onSubmit={handleSubmit} noValidate>
      <% names.each do |name| %>
        <div className="form-group">
	  <InputGroup>
            <InputGroupAddon addonType="prepend">
              <InputGroupText>
                <i className="nc-icon nc-single-02" />
              </InputGroupText>
            </InputGroupAddon>

            <InputCell
              type={"<%= name_type(name) %>"}
	      name={"<%= name %>"}
	      value={values.<%= name %>}
	      placeholder={ "<%= name.capitalize %>" }
	      onChange={handleChange}
	      errors={errors.<%= name %>}
	      isValid={validations.<%= name %>.valid}
	      isDirty={validations.<%= name %>.dirty}
            />
	  <InputGroup>
        </div>
       <% end %>
       <button disabled={!formValid} type="submit" className="btn btn-primary">
         Submit
       </button>
      </form>
      );
    };
export default Form;
